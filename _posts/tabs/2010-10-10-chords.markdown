---
layout: page
title:  "Chord Generator"
---
<style>
.tooltip {
    position: relative;
    display: inline-block;
}

.tooltip .tooltiptext {
    visibility: hidden;
    width: 120px;
    background-color: black;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 2px 0;
    top: 60px;

    /* Position the tooltip */
    position: absolute;
    z-index: 1;
}

.tooltip:hover .tooltiptext {
    visibility: visible;
}

svg.chordChart {
  position: relative;
  float: right;
}

svg.chordChart .grid {
  stroke: black;
}

svg.chordChart .labels {
  fill: white;
}

.select2-container .select2-choice, .select2-result-label {
  font-size: 1em;
  height: 38px; 
  overflow: auto;
}

.blockleft {
position: relative;
float: left;
display: inline-block;
width:200px;
}

.customblock {
    font-weight: bold;
}

.ifret, .ifing {
    width: 78px;
}

.chorddiv{
  width: 141px;
  cursor:pointer;
}

#printArea{
  background-color: #F5F5F5;
}

@media print {
  body * {
    visibility: hidden;
  }
  #printArea, #printArea * {
    visibility: visible;
  }
  #printArea {
    position: absolute;
    left: 0;
    top: 0;
  }

  .tooltip .tooltiptext {
    visibility: hidden !important;
  }
}


</style>

> Generate custom chord/fingering:

Name:
<select id="select-key-custom">
    <option value="0" selected="selected">C</option>
    <option value="1">C#/Db</option>
    <option value="2">D</option>
    <option value="3">D#/Eb</option>
    <option value="4">E</option>
    <option value="5">F</option>
    <option value="6">F#/Gb</option>
    <option value="7">G</option>
    <option value="8">G#/Ab</option>
    <option value="9">A</option>
    <option value="10">A#/Bb</option>
    <option value="11">B</option>
</select>
<select id="select-type-custom">
    <option value="">Major</option>
    <option value="min">Minor</option>
    <option value="7">Dom7</option>
    <option value="min7">Min7</option>
    <option value="Δ7">Maj7</option>
    <option value="maj6">Maj6</option>
    <option value="min6">Min6</option>
    <option value="5">5</option>
    <option value="sus2">Sus2</option>
    <option value="sus4">Sus4</option>
    <option value="7#5">7Aug</option>
    <option value="7sus">7Sus4</option>
    <option value="9">Dom9</option>
    <option value="7#9">7#9</option>
    <option value="7b9">7b9</option>
    <option value="13">13</option>
</select>

<div class="customblock">
        <div>&nbsp;&nbsp;&nbsp;FRETS / FINGERS </div>
        <div>E <input type="text" maxlength="2" class="ifret" id="pE" value="x" /><input type="text" class="ifing" id="fE" maxlength="1" value="-"/></div>
        <div>A <input type="text" maxlength="2" class="ifret" id="pA" value="x" /><input type="text" class="ifing" id="fA" maxlength="1" value="-"/></div>
        <div>D <input type="text" maxlength="2" class="ifret" id="pD" value="x" /><input type="text" class="ifing" id="fA" maxlength="1" value="-"/></div>
        <div>G <input type="text" maxlength="2" class="ifret" id="pG" value="x" /><input type="text" class="ifing" id="fG" maxlength="1" value="-"/></div>
        <div>B <input type="text" maxlength="2" class="ifret" id="pB" value="x" /><input type="text" class="ifing" id="fB" maxlength="1" value="-"/></div>
        <div>e <input type="text" maxlength="2" class="ifret" id="pe" value="x" /><input type="text" class="ifing" id="fe" maxlength="1" value="-"/></div>
<div><button type="button" id="button-gen">
Generate chord!
</button></div>
</div>
        
        
<!--
<div>
        Size:
        <select id="size">
            <option value="1">1</option>
            <option value="2" selected="selected">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
        </select>
</div>
-->
        
> Or select available chords:

<select id="select-key">
    <option value="*">All keys</option>
    <option value="0" selected="selected">C</option>
    <option value="1">C#/Db</option>
    <option value="2">D</option>
    <option value="3">D#/Eb</option>
    <option value="4">E</option>
    <option value="5">F</option>
    <option value="6">F#/Gb</option>
    <option value="7">G</option>
    <option value="8">G#/Ab</option>
    <option value="9">A</option>
    <option value="10">A#/Bb</option>
    <option value="11">B</option>
</select>
<select id="select-type">
    <option value="*">All types</option>
    <option value="">Major</option>
    <option value="min">Minor</option>
    <option value="7">Dom7</option>
    <option value="min7">Min7</option>
    <option value="Δ7">Maj7</option>
    <option value="maj6">Maj6</option>
    <option value="min6">Min6</option>
    <option value="5">5</option>
    <option value="sus2">Sus2</option>
    <option value="sus4">Sus4</option>
    <option value="7#5">7Aug</option>
    <option value="7sus">7Sus4</option>
    <option value="9">Dom9</option>
    <option value="7#9">7#9</option>
    <option value="7b9">7b9</option>
    <option value="13">13</option>
</select>


> Click on any chord to save (or click the button below to save all)

<div><button type="button" id="button-clone">
Save displayed chords
</button></div>


<div id="previewArea"> </div>


<div id="chordsheet" style="display:none">
<h3>Your chord sheet </h3>
<div><button type="button" id="button-print">
Print chord sheet
</button></div>
<br />
<div id="printArea" >
</div>
</div>


<script>
$(function(){
    var keys = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'];
    var tones = ['1', '2b', '2', '3b', '3', '4', '5b', '5', '6b', '6', '7b', '7'];

    var formulas = {
        '':      '0 4 7',
        'min':   '0 3 7',
        '7':     '0 4 7 10',
        'min7':  '0 3 7 10',
        'Δ7':    '0 4 7 11',
        'maj6':  '0 4 7 9',
        'min6':  '0 3 7 9',
        '5':     '0 7',
        'sus2':  '0 2 7',
        'sus4':  '0 5 7',
        '7#5':   '0 4 8 10',
        '7sus':  '0 5 6 7 10',
        '9':     '0 4 7 10 2',
        '7#9':   '0 4 7 10 3',
        '7b9':   '0 4 7 10 1',
        '13':    '0 4 7 10 2 9'
    };    

    var fretboard = [ ['4', '9', '2', '7', '11', '4'], ['5', '10', '3', '8', '0', '5'], ['6', '11', '4', '9', '1', '6'], ['7', '0', '5', '10', '2', '7'], ['8', '1', '6', '11', '3', '8'], ['9', '2', '7', '12', '4', '9'], ['10', '3', '8', '13', '5', '10'], ['11', '4', '9', '14', '6', '11'], ['12', '5', '10', '15', '7', '12'], ['13', '6', '11', '16', '8', '13'], ['14', '7', '12', '17', '9', '14'], ['15', '8', '13', '18', '10', '15'], ['16', '9', '14', '19', '11', '16'], ['17', '10', '15', '20', '12', '17'], ['18', '11', '16', '21', '13', '18'], ['19', '12', '17', '22', '14', '19'], ['20', '13', '18', '23', '15', '20'], ['21', '14', '19', '24', '16', '21'], ['22', '15', '20', '25', '17', '22'], ['23', '16', '21', '26', '18', '23'], ['24', '17', '22', '27', '19', '24'], ['25', '18', '23', '28', '20', '25'], ['26', '19', '24', '29', '21', '26'], ]

    var chords = [
        /* C ****************************************************/
        { key: '0', form: '', fret: 'x 3 2 0 1 0', fing: '' },
        //{ key: '0', form: 'min', fret: '', fing: '' },
        { key: '0', form: 'maj6', fret: 'x 3 2 2 1 x', fing: '' },
        { key: '0', form: 'min6', fret: '8 x 7 8 8 x', fing: '' },
        { key: '0', form: 'min7', fret: 'x 3 5 3 4 3', fing: 'x 1 3 1 2 1' },
        { key: '0', form: '7', fret: 'x 3 5 3 5 3', fing: 'x 1 3 1 4 1' },
        { key: '0', form: '7', fret: '8 10 8 9 8 8', fing: '1 3 1 2 1 1' },
        //{ key: '0', form: 'Δ7', fret: '', fing: '' },
        //{ key: '0', form: 'sus2', fret: '', fing: '' },
        //{ key: '0', form: 'sus4', fret: '', fing: '' },
        /* D ****************************************************/
        { key: '2', form: '', fret: 'x x 0 2 3 2', fing: '' },
        { key: '2', form: 'min', fret: 'x x 0 2 3 1', fing: '' },
        { key: '2', form: 'maj6', fret: 'x x 0 2 0 2', fing: '' },
        //{ key: '2', form: 'min6', fret: '', fing: '' },
        { key: '2', form: 'min7', fret: 'x x 0 2 1 1', fing: '' },
        //{ key: '2', form: '7', fret: '', fing: '' },
        //{ key: '2', form: 'Δ7', fret: '', fing: '' },
        //{ key: '2', form: 'sus2', fret: '', fing: '' },
        //{ key: '2', form: 'sus4', fret: '', fing: '' },
        /* E ****************************************************/
        //{ key: '4', form: '', fret: '', fing: '' },
        //{ key: '4', form: 'min', fret: '', fing: '' },
        { key: '4', form: 'maj6', fret: '0 2 2 1 2 0', fing: '' },
        { key: '4', form: 'min6', fret: '0 2 2 0 2 0', fing: '' },
        //{ key: '4', form: 'min7', fret: '', fing: '' },
        { key: '4', form: '7', fret: '0 2 0 1 3 0', fing: '' },
        { key: '4', form: 'Δ7', fret: '0 2 1 1 0 0', fing: '' },
        { key: '4', form: 'sus2', fret: 'x 7 9 9 7 7', fing: '' },
        { key: '4', form: 'sus4', fret: '0 2 2 2 0 0', fing: '' },
        /* F ****************************************************/
        //{ key: '5', form: '', fret: '', fing: '' },
        //{ key: '5', form: 'min', fret: '', fing: '' },
        //{ key: '5', form: 'maj6', fret: '', fing: '' },
        //{ key: '5', form: 'min6', fret: '', fing: '' },
        //{ key: '5', form: 'min7', fret: '', fing: '' },
        //{ key: '5', form: '7', fret: '', fing: '' },
        { key: '5', form: 'Δ7', fret: 'x x 3 2 1 0', fing: '' },
        //{ key: '5', form: 'sus2', fret: '', fing: '' },
        //{ key: '5', form: 'sus4', fret: '', fing: '' },
        /* G ****************************************************/
        // { key: '7', form: '', fret: '', fing: '' },
        //{ key: '7', form: 'min', fret: '', fing: '' },
        //{ key: '7', form: 'maj6', fret: '', fing: '' },
        //{ key: '7', form: 'min6', fret: '', fing: '' },
        //{ key: '7', form: 'min7', fret: '', fing: '' },
        { key: '7', form: '7', fret: '3 2 0 0 0 1', fing: '' },
        //{ key: '7', form: 'Δ7', fret: '', fing: '' },
        //{ key: '7', form: 'sus2', fret: '', fing: '' },
        //{ key: '7', form: 'sus4', fret: '', fing: '' },
        /* A ****************************************************/
        //{ key: '9', form: '', fret: '', fing: '' },
        //{ key: '9', form: 'min', fret: '', fing: '' },
        { key: '9', form: 'maj6', fret: 'x 0 2 2 2 2', fing: 'x x 1 1 1 1' },
        //{ key: '9', form: 'min6', fret: '', fing: '' },
        { key: '9', form: 'min7', fret: '5 7 5 5 5 5', fing: '1 3 1 1 1 1' },
        { key: '9', form: 'min7', fret: 'x 0 2 0 1 0', fing: '' },
        { key: '9', form: '7', fret: 'x 0 2 0 2 0', fing: '' },
        { key: '9', form: 'Δ7', fret: 'x 0 2 1 2 0', fing: '' },
        { key: '9', form: 'sus2', fret: '0 0 2 2 0 0', fing: '' },
        { key: '9', form: 'sus4', fret: 'x 0 2 2 3 0', fing: '' },
        /* B ****************************************************/
        //{ key: '11', form: '', fret: '', fing: '' },
        //{ key: '11', form: 'min', fret: '', fing: '' },
        //{ key: '11', form: 'maj6', fret: '', fing: '' },
        //{ key: '11', form: 'min6', fret: '', fing: '' },
        //{ key: '11', form: 'min7', fret: '', fing: '' },
        { key: '11', form: '7', fret: 'x 2 1 2 0 2', fing: '' },
        //{ key: '11', form: 'Δ7', fret: '', fing: '' },
        //{ key: '11', form: 'sus2', fret: '', fing: '' },
        //{ key: '11', form: 'sus4', fret: '', fing: '' },
    ]

    $('#button-gen').click(function() {
        loadCustomChord();
    });

    $('#button-clone').click(function() {
        fadeInPreview();
        $('#previewArea .chorddiv').clone().appendTo('#printArea').hide().fadeIn();
        changeTooltip();
    });

    $('#button-print').click(function() {
        window.print();
    });

    function fadeInPreview() {
        if ($('#chordsheet').is(":hidden")) {
            $('#chordsheet').fadeIn();
            $(document.body).animate({ 'scrollTop':   $('#chordsheet').offset().top }, 400);
        }
    }
    
    function changeTooltip() {
        $('#chordsheet .chorddiv').each(function() {
            $(this).children('span').html('Click to remove from sheet');
        });
    }

    $(document).on('click', '#previewArea .chorddiv', function() {
        fadeInPreview();
        $(this).clone().appendTo('#printArea').hide().fadeIn();
        changeTooltip();
    });

    $(document).on('click', '#chordsheet .chorddiv', function() {
        $(this).remove();
    });

    $("select").select2({width:'130px'});

    loadAvailableChords();

    $('#select-key, #select-type').change(function() {
        loadAvailableChords();
    });


    function isNumber(n) {
        return !isNaN(parseFloat(n)) && isFinite(n);
    }

    function loadCustomChord () {
        // chord data
        var key=$('#select-key-custom').val();
        var type=$('#select-type-custom').val();

        var arrfrets = [];
        $('.ifret').each(function() {
            if (isNumber($(this).val())) {
                arrfrets.push($(this).val());
            } else {
                arrfrets.push('x');
            }
        });
        var arrfings = [];
        $('.ifing').each(function() {
            if (isNumber($(this).val())) {
                arrfings.push($(this).val());
            } else {
                arrfings.push('-');
            }
        });
        if (JSON.stringify(arrfings)==JSON.stringify(['-', '-', '-', '-', '-', '-'])) {
            arrfings = ['', '', '', '', '', '']
        }

        var chords= [{ key: key, form: type, fret: arrfrets.join(), fing: arrfings.join()}];

        loadChords(chords);
    }

    function loadAvailableChords () {
        // chord data
        var key=$('#select-key').val();
        var type=$('#select-type').val();
        if (key != '*') {
            var results = $.grep(chords, function(e){ return e.key == key; });
        } else {
            var results = chords;
        }

        if (type != '*') {
            var results = $.grep(results, function(e){ return e.form == type; });
        }
        loadChords(results);
    }


    function loadChords(results){
        $('#previewArea').html('');
        var extraData = {};
        $.each(results, function(ind, result) {
            if (typeof result === 'undefined' || ! result) {
                $('#previewArea').html('No chord available'); 
                return false;
            }
            
            formula = formulas[result.form].split(/[ ,]+/);
            frets = result.fret.split(/[ ,]+/);
            fingers = result.fing.split(/[ ,]+/);

            // chord calc
            extraData.notes = [];
            extraData.tones = [];
            $.each(formula, function(index, value ) {
                currentNote = (parseInt(result.key,10)+parseInt(value,10))%12;
                extraData.notes.push(keys[currentNote]);
                extraData.tones.push(tones[value]);
            });

            // fret tones
            // extraData.fretNotes = [];
            extraData.fretTones = [];
            $.each(frets, function( index, value ) {
                if (isNumber(value)) {
                    var currentNote = fretboard[parseInt(value, 10)][parseInt(index, 10)];
                    // extraData.fretNotes.push(keys[currentNote]);
                    extraData.fretTones.push(tones[(currentNote-parseInt(result.key,10))%12]);

                } else {

                    // extraData.fretNotes.push('');
                    extraData.fretTones.push('');
                }
            });


            // chart generation
            var udi = {
                        title:keys[result.key] + result.form + ' (' + extraData.notes.join(' ') + ')' ,
                        fret:frets.join(),
                        label:fingers.join(),
                        footer:extraData.fretTones.join(),
                        scale:0.9
                       };

            var createChart = chartMaker();

            $('#previewArea').append('<div class="chorddiv tooltip"><span class="tooltiptext">Click to add to sheet</span> <svg id="previewChart' + ind + '" ></svg></div>');
            
            var placeholder = document.getElementById('previewChart' + ind);
            createChart(placeholder,udi);

            });
    }
});
</script>

<script src="{{ "/scripts/chartmaker.js" | prepend: site.baseurl }}"></script>
