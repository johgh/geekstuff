<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
    Zsh setup <> GeekStuff.ml — Webdev notes and more
    
  </title>

  <!-- CSS -->
    <link rel="stylesheet" href="/css/poole.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/backtotop.css">
    <link rel="canonical" href="http://geekstuff.ml/zsh">
    <!-- <link rel="stylesheet" href="/css/font-awesome.min.css"> -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <link href='https://fonts.googleapis.com/css?family=Fira+Mono|Fira+Sans:300,400|Roboto:300,400|Montserrat:300,400' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.1.1/gh-fork-ribbon.min.css">
    <link rel="stylesheet" media="screen" href="/css/toc.css">
    <link rel="stylesheet" media="screen" href="/css/select2.css">
    <link rel="stylesheet" media="screen" href="/css/theme.grey.min.css">

    <script src="/scripts/jquery-2.1.4.min.js"></script>
    
    <!-- <link href="http://cdnjs.cloudflare.com/ajax/libs/select2/3.4.6/select2.min.css" rel="stylesheet"> -->
    <!-- <script src="http://cdnjs.cloudflare.com/ajax/libs/select2/3.4.6/select2.min.js"></script> -->
    
    <script src="/scripts/jquery.tablesorter.min.js"></script>
    <script src="/scripts/jquery.tablesorter.widgets.min.js"></script>
    <script src="/scripts/select2.js"></script>
    <script src="/scripts/widget-filter-formatter-select2.min.js"></script>
    <script src="/scripts/jquery.tocLight.js"></script>
    
    <script type="text/javascript">
        $(function() {
          $.toc.clickHideButton();
        });
  </script>

  <!-- Icons -->
  <link rel="shortcut icon" href="/css/images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/css/images/favicon.ico" type="image/x-icon">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="GeekStuff.ml — Webdev notes and more" href="atom.xml">
</head>



  <body>
    <div class="container content">
        <header class="site-header">

<div class="wrapper">

    <a class="site-title" href="/"> 
        <span class="main-title">
            <i style="margin-right:4px; color: #424242 !important;" class="fa fa-code"></i><span class="main-cheat" style="font-weight: bold;">Geek</span><span style="font-weight: 200">Stuff</span><i style="color: #268BD2; margin: 0px 1px 0px 3px;" class="fab fa-pied-piper-hat"></i><span style="font-size: 30px; "><span style="font-weight:100; color: #5d5d5d">ml</span></span>
                    
          </span>
      </a>

      <!-- <a class="post-link" href="http://guitarchords.ga"><i class="fa fa-music"></i><span class="post-link-title">  Guitarchords.ga</span></a> -->
      <!-- <a style="float:right; margin-top: 10px;"  href="/bookmarks"><i class="fas fa-bookmark"></i></a>&nbsp;&nbsp; -->
      <!-- <a style="float:right; margin-top: 10px;" href="/tags"><i class="fa fa-tags"></i></a> -->

  </div>
    <!-- <style> -->
    <!--     /* The default background color is #c00 */ -->
    <!--     .right-bottom .github-fork-ribbon { -->
    <!--         background-color: #2A7AE2; -->
    <!--     } -->

    <!--     .right .github-fork-ribbon { -->
    <!--         background-color: #f80; -->
    <!--     } -->

    <!--     .left-bottom .github-fork-ribbon { -->
    <!--         background-color: #333; -->
    <!--     } -->
    <!-- </style> -->
    
    <!-- <div class="github-fork-ribbon-wrapper right-bottom"> -->
    <!--     <div class="github-fork-ribbon"> -->
    <!--         <a href="https://github.com/johgh/johgh.io-source">Fork me on GitHub</a> -->
    <!--     </div> -->
    <!-- </div> -->
</header>

      <header class="masthead">
      </header>
      <main>
        <div class="post">

<br />
<article class="post">
  <h1 class="post-title"><a href="/Terminal" class="back"><i class="fa fa-arrow-left"></i></a> Zsh setup</h1>
  <br />
  <div id="toc-container">
   <table class="toc" id="toc">
      <tbody>
         <tr>
            <td>
               <div id="toctitle">
                  <h2>Contents</h2>
                  <span class="toctoggle">[<a id="toctogglelink" class="internal" href="#">hide</a>]</span>
               </div>
               <ul>
                  <li class="toc_level-1 toc_section-1">
                     <a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-2">
                     <a href="#tocAnchor-1-2"><span class="tocnumber">2</span> <span class="toctext">Customize Zsh</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-3">
                     <a href="#tocAnchor-1-3"><span class="tocnumber">3</span> <span class="toctext">Autopushd</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-4">
                     <a href="#tocAnchor-1-4"><span class="tocnumber">4</span> <span class="toctext">Vi + Bash bindings</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-5">
                     <a href="#tocAnchor-1-5"><span class="tocnumber">5</span> <span class="toctext">free  so we can use it in vim</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-6">
                     <a href="#tocAnchor-1-6"><span class="tocnumber">6</span> <span class="toctext">vi mappings</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-7">
                     <a href="#tocAnchor-1-7"><span class="tocnumber">7</span> <span class="toctext">C-S instead of ESC to enter Vi normal mode</span></a>
                     <ul>
                        <li class="toc_level-2 toc_section-8">
                           <a href="#tocAnchor-1-7-1"><span class="tocnumber">7.1</span> <span class="toctext">some standard bash keys so we can use it with vim mappings enabled</span></a>
                        </li>
                     </ul>
                  </li>
                  <li class="toc_level-1 toc_section-9">
                     <a href="#tocAnchor-1-9"><span class="tocnumber">8</span> <span class="toctext">navigation</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-10">
                     <a href="#tocAnchor-1-10"><span class="tocnumber">9</span> <span class="toctext">delete from cursor to beginning of line</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-11">
                     <a href="#tocAnchor-1-11"><span class="tocnumber">10</span> <span class="toctext">delete from cursor to end of line</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-12">
                     <a href="#tocAnchor-1-12"><span class="tocnumber">11</span> <span class="toctext">delete previous word</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-13">
                     <a href="#tocAnchor-1-13"><span class="tocnumber">12</span> <span class="toctext">delete next word</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-14">
                     <a href="#tocAnchor-1-14"><span class="tocnumber">13</span> <span class="toctext">backspace</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-15">
                     <a href="#tocAnchor-1-15"><span class="tocnumber">14</span> <span class="toctext">uppercase word starting from cursor</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-16">
                     <a href="#tocAnchor-1-16"><span class="tocnumber">15</span> <span class="toctext">we keep up-history and down-history bindings for the plugin history-substring-search</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-17">
                     <a href="#tocAnchor-1-17"><span class="tocnumber">16</span> <span class="toctext">go to beginning of line (^A is used by tmux)</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-18">
                     <a href="#tocAnchor-1-18"><span class="tocnumber">17</span> <span class="toctext">go to end of line</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-19">
                     <a href="#tocAnchor-1-19"><span class="tocnumber">18</span> <span class="toctext">incremental search backward</span></a>
                  </li>
               </ul>
            </td>
         </tr>
      </tbody>
   </table>
</div><h1 id="tocAnchor-1-1">Installation</h1>
<dl>
  <dt>Install zsh and set as default shell</dt>
  <dd>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>zsh
<span class="nv">$ </span><span class="nb">sudo </span>chsh <span class="nt">-s</span> /bin/zsh
</code></pre></div>    </div>
  </dd>
  <dt>Install Oh My Zsh</dt>
  <dd>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> <span class="nv">$HOME</span>
<span class="nv">$ </span>git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
<span class="nv">$ </span><span class="nb">cp</span> ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc
</code></pre></div>    </div>
  </dd>
</dl>

<h1 id="tocAnchor-1-2">Customize Zsh</h1>
<dl>
  <dt>Customize zsh config in $HOME/.zshrc</dt>
  <dd>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># set bash as default shell for compatibility with shellscripts</span>
<span class="nb">export </span><span class="nv">SHELL</span><span class="o">=</span>/bin/bash
<span class="c"># add user bin directory to the path</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HOME</span>/bin
<span class="c"># enable some oh-my-zsh plugins</span>
<span class="nv">plugins</span><span class="o">=(</span>git github git-extras command-not-found vim-interaction history-substring-search <span class="nb">cp history</span><span class="o">)</span>
<span class="c"># custom aliases</span>
openapp<span class="o">(){</span> <span class="nb">nohup </span>xdg-open <span class="nv">$1</span> <span class="o">&gt;</span> /dev/null 2&gt; /dev/null <span class="o">}</span><span class="p">;</span> <span class="nb">alias </span><span class="nv">o</span><span class="o">=</span>openapp
</code></pre></div>    </div>
  </dd>
</dl>

<blockquote>
  <p>See some alias to include <a href="http://localhost:4000/bash%20commands/#tocAnchor-1-2">here</a></p>
</blockquote>

<dl>
  <dt>Reload .zshrc</dt>
  <dd>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">source</span> ~/.zshrc
</code></pre></div>    </div>
  </dd>
</dl>

<h1 id="tocAnchor-1-3">Autopushd</h1>
<dl>
  <dt>Put this on your .zshrc file</dt>
  <dd>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># set cd as an alias to pushd (every visited directory is saved in a stack)</span>
setopt autopushd
</code></pre></div>    </div>
  </dd>
  <dt>Change dir and save new specified dir in a stack of dirs</dt>
  <dd><code class="language-plaintext highlighter-rouge">cd DIR</code></dd>
</dl>

<blockquote>
  <p>if no dir specified cd goes to $HOME as usual</p>
</blockquote>

<dl>
  <dt>Go to last visited directory</dt>
  <dd><code class="language-plaintext highlighter-rouge">cd -</code></dd>
</dl>

<blockquote>
  <p>as a side effect this command swaps (in the stack) your current directory with the last one visited</p>
</blockquote>

<dl>
  <dt>Go to directory from stack specified by index</dt>
  <dd><code class="language-plaintext highlighter-rouge">cd -↹INDEX</code></dd>
</dl>

<blockquote>
  <p>as a side effect this command swaps your current directory with the one specified from the stack</p>
</blockquote>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">cd -↹↹</code> provides autocompletion</p>
</blockquote>

<dl>
  <dt>Specify path including subpath from stacked dir</dt>
  <dd><code class="language-plaintext highlighter-rouge">cd ~-↹INDEX</code></dd>
</dl>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">cd ~-↹↹</code> provides autocompletion</p>
</blockquote>

<dl>
  <dt>Deletes directory from stack</dt>
  <dd><code class="language-plaintext highlighter-rouge">popd -↹INDEX</code></dd>
</dl>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">popd -↹↹</code> provides autocompletion</p>
</blockquote>

<dl>
  <dt>Clear all saved directories from stack</dt>
  <dd><code class="language-plaintext highlighter-rouge">dirs -c</code></dd>
</dl>

<h1 id="tocAnchor-1-4">Vi + Bash bindings</h1>

<dl>
  <dt>Put this on your .zshrc file</dt>
  <dd>~~~bash</dd>
</dl>

<h1 id="tocAnchor-1-5">free <c-s> so we can use it in vim</c-s></h1>
<p>stty -ixon -ixoff</p>
<h1 id="tocAnchor-1-6">vi mappings</h1>
<p>bindkey -v</p>
<h1 id="tocAnchor-1-7">C-S instead of ESC to enter Vi normal mode</h1>
<p>bindkey ‘^S’ vi-cmd-mode</p>
<h2 id="tocAnchor-1-7-1">some standard bash keys so we can use it with vim mappings enabled</h2>
<h1 id="tocAnchor-1-9">navigation</h1>
<p>bindkey ‘^[b’ backward-word
bindkey ‘^[f’ forward-word</p>
<h1 id="tocAnchor-1-10">delete from cursor to beginning of line</h1>
<p>bindkey ‘^U’ backward-kill-line</p>
<h1 id="tocAnchor-1-11">delete from cursor to end of line</h1>
<p>bindkey ‘^K’ kill-line</p>
<h1 id="tocAnchor-1-12">delete previous word</h1>
<p>bindkey ‘^w’ backward-kill-word</p>
<h1 id="tocAnchor-1-13">delete next word</h1>
<p>bindkey ‘^[d’ kill-word</p>
<h1 id="tocAnchor-1-14">backspace</h1>
<p>bindkey ‘^h’ backward-delete-char</p>
<h1 id="tocAnchor-1-15">uppercase word starting from cursor</h1>
<p>bindkey ‘^[u’ up-case-word</p>
<h1 id="tocAnchor-1-16">we keep up-history and down-history bindings for the plugin history-substring-search</h1>
<p>bindkey ‘^P’ history-substring-search-up
bindkey ‘^N’ history-substring-search-down</p>
<h1 id="tocAnchor-1-17">go to beginning of line (^A is used by tmux)</h1>
<p>bindkey ‘^B’ beginning-of-line</p>
<h1 id="tocAnchor-1-18">go to end of line</h1>
<p>bindkey ‘^E’ end-of-line</p>
<h1 id="tocAnchor-1-19">incremental search backward</h1>
<p>bindkey ‘^r’ history-incremental-search-backward</p>

<p>~~~</p>

<blockquote>
  <p>Complete list of zsh bindings <a href="http://www.bash2zsh.com/zsh_refcard/refcard.pdf">here</a></p>
</blockquote>

<blockquote>
  <p>Bash standard bindings <a href="http://www.scribd.com/doc/88404386/Bash-Cheat-Sheet">here</a></p>
</blockquote>

  <br />
  <blockquote>
      <p><strong>Last updated: <time datetime="2022-02-24T09:41:26-06:00" class="page-date">24 Feb 2022</time></strong></p>
  </blockquote>
</article>



<aside class="related">
    <h2>Related Posts</h2>
    <ul class="related-posts">
        
        

        

            
                
            
        

            
        

            
                
            
        

            
        

            
                
            
        

            
                
                    
                        
                            <li>
                                <h3>
                                    <a href="/apps">
                                        Packages
                                        <small><time datetime="2022-02-24T09:41:26-06:00">24 Feb 2022</time></small>
                                    </a>
                                </h3>
                            </li>
                        
                        
                    
                    
            
        

            
                
                    
                        
                            <li>
                                <h3>
                                    <a href="/repos">
                                        Repositories
                                        <small><time datetime="2022-02-24T09:41:26-06:00">24 Feb 2022</time></small>
                                    </a>
                                </h3>
                            </li>
                        
                        
                    
                    
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
                    
                        
                            <li>
                                <h3>
                                    <a href="/linuxcommands">
                                        Desktop/general commands
                                        <small><time datetime="2022-02-24T09:41:26-06:00">24 Feb 2022</time></small>
                                    </a>
                                </h3>
                            </li>
                        
                        
                    
                    
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
                    
                        
                            <li>
                                <h3>
                                    <a href="/shellscripting">
                                        Shell-scripting snippets
                                        <small><time datetime="2022-02-24T09:41:26-06:00">24 Feb 2022</time></small>
                                    </a>
                                </h3>
                            </li>
                        
                        
                    
                    
            
        

            
                
                    
                    
            
        

            
                
            
        

            
                
                    
                        
                            <li>
                                <h3>
                                    <a href="/tmux">
                                        Tmux basics
                                        <small><time datetime="2022-02-24T09:41:26-06:00">24 Feb 2022</time></small>
                                    </a>
                                </h3>
                            </li>
                        
                        
                    
                    
            
        

            
                
            
        

            
                
                    
                        
                            <li>
                                <h3>
                                    <a href="/my scripts">
                                        Useful scripts
                                        <small><time datetime="2022-02-24T09:41:26-06:00">24 Feb 2022</time></small>
                                    </a>
                                </h3>
                            </li>
                        
                        
                    
                    
            
        

            
                
            
        

            
                
                    
                        
                            <li>
                                <h3>
                                    <a href="/bash commands">
                                        Bash/UNIX commands
                                        <small><time datetime="2022-02-24T09:41:26-06:00">24 Feb 2022</time></small>
                                    </a>
                                </h3>
                            </li>
                        
                        
                    
                    
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        

            
                
            
        
        
        
  </ul>
</aside>



      </main>
     <footer class="site-footer">

  <div class="wrapper">

    
      <div style="float: left; margin-left: 25px">
          <a href="/bookmarks"><i class="fas fa-bookmark"></i> bookmarks</a>&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;
          <a href="/sitemap"><i class="fas fa-sitemap"></i> sitemap</a>&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;
          <a href="https://github.com/johgh"><i class="fas fa-user-astronaut"></i> about</a>
          <!-- <div><a class="post-link" href="http://guitarchords.ga"><i class="fa fa-music"></i><span class="post-link-title">  Guitarchords.ga</span></a></div><br /> -->
      </div>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
          <!-- <h2 class="footer-heading"> <a href="https://github.com/johgh/johgh.io-source"> <i class="fa fa-github"></i> Cheat-Sheets</a></h2> -->
        <ul class="contact-list">
          <li><a href="mailto:"></a></li>
        </ul>
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <p class="text" style="text-align:right"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Licencia de Creative Commons" style="border-width:0; display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><span class="ccby">jordihv at gmail.com</span><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
      </div>
    </div>

  </div>

</footer>
<a href="#0" class="cd-top">Top</a>
<script src="/scripts/backtotop.js"></script>

<script>
$(function() {
  $("h1, h2, h3, h4, h5, h6").each(function(i, el) {
    var $el, icon, id;
    $el = $(el);
    id = $el.attr('id');
    icon = '<i class="fa fa-link"></i>';
    if (id) {
      return $el.prepend($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
    }
  });

  /*
  $(document).on('click', '.back', function(e){
    e.preventDefault()
  });
  */
});

</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66389589-1', 'auto');
  ga('send', 'pageview');

</script>

    </div>

  </body>
</html>
